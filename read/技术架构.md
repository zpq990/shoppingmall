# 一. 总览:商城技术

## 1. Spring(boot,cloudy)

## 2. DUBBO(分布式处理)

## 3. maven

## 4. git

## 5. mysql

## 6. mybatis

## 7.redis

## 8.kibana(可视化平台,操作ES)(搜索引擎Elastic Search,ELK)

## 9.fastdfs(轻量级分布式文件系统)

## 10.ActiveMQ(消息中间件)

	+ 分布式服务之间消息的处理

## 11.支付系统(支付宝)

## 12.nginx(负载均衡,web服务器,与fastdfs交互合作)

## 13.apache服务器

+ 压力测试

## 14.SSO(单点登录)

## 15.html(js,vue.js,jquery,thymeleaf,node.js)

## 16.docker(kubernetes) (云容器)

## 17.IDEA

# 二. 分布式基础概念

 ## 1. 微服务架构

+ 1. 单独应用程序APP(独立小服务)集成为一套服务云

     

## 2. 集群与分布式

+ 集群是个物理形态(一堆机器也可叫集群)
+ 分布式是种工作方式(独立计算机的集合
+ 分布式中的每一个节点都能做集群,集群不是分布式(分布式是将不同的业务分布在不同的地方)
+ 集群:几台服务器集合在一起实现单一应用
+ 节点:集群中的一个服务器

## 3. 远程调用

+ 分布式机器中,各个服务处于不同主机,服务之间需要进行相互的调用称远程调用
+ springCloud中使用http+json的方式完成远程调用

## 4. 负载均衡

+ 例:有订单服务$w$,服务器有A,B,C...G. 而B,C,...G上皆有$w$ 服务.此时,A调用B,C...G中任意一个服务器均可完成功能服务应用$w$ .
+ 负载均衡:使每一个服务器都不要过于忙或者空闲,平均的调用每一个服务器,提升网站的强壮性能称为负载均衡
+ 常用算法:
  + **1.轮询**:循环依次请求选择
  + **2.最小链接**:优先选择连接数最小,压力最小的服务器,绘画较长的情况下可采取此种方式
  + **3.散列**:根据请求源的IP的散列(hash值),同一个用户的请求分配到同一个机器上来运行

## 5. 服务注册/发现&注册中心

+ 引入注册中心概念
  + ![](pic\注册中心.png)
  + 调用指定服务时可在注册中心找到该服务在那些机器中有并且上线.
  + 发现流程:1.先去注册中心发现是否有指定的服务在哪些机器上,2.应用负载均衡的算法随机调用服务3.如有服务下线,注册中心也会实时发现更新,实时感知到其它的上线服务
  + 注册流程:服务一上线就注册到注册中心进行注册

## 6. 配置中心

+ 见一(5)注册中心
+ 大集群的服务部署有大量的配置,设置配置中心可以让各个服务在配置中心获取自己的配置,省去大量配置的麻烦

## 7. 服务熔断&服务降级

+ 微服务架构中,微服务之间通过网络进行通信,存在相互依赖,其中一个服务不可用时可能会造成雪崩效应,防止这种崩溃的效应的容错机制叫做服务熔断
+ rpc(Remote Procedure Call):远程过程调用
+ 高并发下特别容易产生这种问题
+ 服务熔断:设置服务超时,调用的服务经常失败到达某个阈值,开启短路保护机制.后面的请求不再去调用这个服务.本地直接返回默认的数据
+ 服务降级:运维期间,当系统处于高峰期,系统资源紧张,可以设置非核心业务降级运行.
  + 降级:某些服务不处理,或者简单处理**(抛异常,返回null,调用mock数据...)** 

## 8. API网关

+ API Gateway 在架构中属于重要组件,在 **网关** 这一层中抽象了微服务中都需要的公共组件.例如 负载均衡,自动熔断,灰度发布,统一认证等等

# 三. 环境搭建



